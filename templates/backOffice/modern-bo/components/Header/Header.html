<div class="block lg:hidden">{include file="components/Hamburger/Hamburger.html"}</div>

<a class="h-full py-2 lg:pl-4" href="{url path='/admin/home'}">
  <img src="{encore_manifest_file file="images/logos/dark-logo.svg"}" class="h-full" />
</a>

<div class="items-center justify-end hidden w-full h-full lg:flex">
  {loop name="top-bar-search" type="auth" role="ADMIN" resource="admin.search" access="VIEW"}
    {strip}
      <form action="{url path='/admin/search'}" class="h-10 md:w-1/2">
        {include
          file="components/TextField/TextField.html"
          type="search"
          placeholder="{intl l='Search...'}"
          name="search_term"
          value="{if isset($smarty.get.search_term)}{trim($smarty.get.search_term)}{/if}"
          icon="search"
          inputClass="w-full"
        }
      </form>
    {/strip}
  {/loop}

  <ul class="items-center hidden h-full lg:flex">
    {hook name="main.topbar-top" }

    <li class="px-5">
      <a href="{url path='admin/configuration/administrators/view'}" title="{intl l="Edit profile"}" class="flex items-center">
        <div class="flex items-center justify-center w-10 h-10 p-3 font-medium bg-transparent border rounded-full hover:bg-lightGrey hover:text-lightGrey text-mediumCharbon">
          <img class="object-contain w-full h-full" src="{image file="assets/images/svgFlags/fr.svg"}" alt="fr" />
        </div>
      </a>
    </li>

    <li class="relative inline-flex h-full px-5 border-l-2 border-r-2 dropdown border-lightGrey hover:bg-lightGrey">
      <a href="#" title="{intl l="Settings"}" class="flex items-center">
        {component name="Button" tag="div" level="small-secondary" class="icon"}
          <i class="fas fa-cog"></i>
        {/component}
      </a>

      <div class="invisible transition-all duration-300 origin-top-right transform scale-95 -translate-y-2 opacity-0 dropdown-menu">
        <div class="absolute origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none top-full -right-5 w-80" aria-labelledby="headlessui-menu-button-1" id="headlessui-menu-items-117" role="menu">
            <a href="{url path='/admin/configuration'}" title="{intl l="Logout"}" class="flex items-center p-3 hover:bg-lightGrey">
              {component name="Button" tag="div" level="small-secondary" class="mr-3"}
                <i class="fas fa-cogs"></i>
              {/component}
              Configuration
            </a>
            <a href="{url path='/admin/modules'}" title="{intl l="Logout"}" class="flex items-center p-3 hover:bg-lightGrey">
              {component name="Button" tag="div" level="small-secondary" class="mr-3"}
                <i class="fas fa-puzzle-piece"></i>
              {/component}
              Modules
            </a>
        </div>
      </div>
    </li>

    <li class="relative inline-flex h-full px-5 dropdown hover:bg-lightGrey">
      <a href="#" title="{intl l="Edit profile"}" class="flex items-center">
        {component name="Button" tag="div" level="small-secondary" class="xl:mr-3 icon"}
          <i class="fas fa-user"></i>
        {/component}
        <div class="hidden xl:block">
          {admin attr="firstname"} {admin attr="lastname"}
          <i class="mb-1 ml-3 fas fa-sort-down"></i>
        </div>
      </a>

      <div class="invisible transition-all duration-300 origin-top-right transform scale-95 -translate-y-2 opacity-0 dropdown-menu">
        <div class="absolute origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none top-full -right-5 w-80" aria-labelledby="headlessui-menu-button-1" id="headlessui-menu-items-117" role="menu">
        <div class="my-3 text-center xl:hidden">Welcome <span class="text-main">{admin attr="firstname"} {admin attr="lastname"}</span></div>
          <div>
            <a href="{url path='admin/logout'}" title="{intl l="Logout"}" class="flex items-center p-3 hover:bg-lightGrey">
              {component name="Button" tag="div" level="small-secondary" class="mr-3"}
                <i class="fas fa-cog"></i>
              {/component}
              Paramètres de mon compte
            </a>
            <a href="{url path='admin/logout'}" title="{intl l="Logout"}" class="flex items-center p-3 hover:bg-lightGrey">
              {component name="Button" tag="div" level="small-secondary" class="mr-3"}
                <i class="fas fa-question-circle"></i>
              {/component}
              Aide et assistance
            </a>
          </div>

          <a href="{url path='admin/logout'}" title="{intl l="Logout"}" class="flex items-center p-3 hover:bg-lightGrey">
            {component name="Button" tag="div" level="small-secondary" class="mr-3"}
              <i class="fas fa-sign-out-alt"></i>
            {/component}
            Se déconnecter
          </a>
        </div>
      </div>
    </li>

    <li class="w-16 h-full">
      <a href="{navigate to="index"}" class="flex items-center justify-center w-full h-full font-medium text-center text-white bg-main hover:bg-darkMain hover:text-lightGrey" title="{intl l='View site'}" target="_blank">
        <i class="far fa-eye"></i>
      </a>
    </li>
  </ul>
</div>
